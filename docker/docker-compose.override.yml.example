# ========================================
# Docker Compose 本地覆盖配置示例
# ========================================
# 使用说明：
# 1. 复制此文件为 docker-compose.override.yml
# 2. 根据本地环境修改配置
# 3. docker-compose.override.yml 会自动与 docker-compose.yml 合并
# 4. 不要将 docker-compose.override.yml 提交到版本控制

version: '3.8'

services:
  # 修改 Server 端口
  server:
    ports:
      - "4000:3000"  # 改为 4000 端口
    environment:
      LOG_LEVEL: debug  # 本地开发使用 debug 级别日志

  # 修改 Admin 端口
  admin:
    ports:
      - "9000:80"  # 改为 9000 端口

  # 修改 PostgreSQL 端口
  postgres:
    ports:
      - "5433:5432"  # 改为 5433 端口

  # 修改 MQTT 端口
  mqtt:
    ports:
      - "1884:1883"      # MQTT 改为 1884
      - "8084:8083"      # WebSocket 改为 8084
      - "18084:18083"    # Dashboard 改为 18084

# 自定义网络配置
# networks:
#   scm-network:
#     driver: bridge
#     ipam:
#       config:
#         - subnet: 172.28.0.0/16

# 自定义数据卷配置
# volumes:
#   postgres_data:
#     driver: local
#     driver_opts:
#       type: none
#       device: /path/to/your/data
#       o: bind

